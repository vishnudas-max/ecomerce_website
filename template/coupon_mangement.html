{% extends 'admin_sidebar.html' %}
{% block sidebar%}
{% load static %}

<section class="content-main">
    <div class="content-header">
        <div>
            <h2 class="content-title card-title">Coupon</h2>
            <p>Add, edit or delete a category</p>
        </div>

    </div>
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-md-3">
                    {% for i in messages %}
                    <div  class="text-danger">{{i}}</div>
                    {% endfor %}
                    <form method="post" id="couponForm">
                        {% csrf_token %}
                        <div class="alert alert-danger" style="display: none;" id="formErrors">
                            {{ form.non_field_errors }}
                        </div>
                        <div class="form-group">
                            <label for="{{ form.coupon_name.id_for_label }}">Coupon Name:</label>
                            <input type="text" class="form-control" name="{{ form.coupon_name.name }}"  value="{{ form_data.coupon_name }}" required>
                        </div>
                        <div class="form-group">
                            <label for="{{ form.code.id_for_label }}">Code:</label>
                            <input type="text" class="form-control" name="{{ form.code.name }}"  value="{{ form_data.code }}" maxlength="7" required>
                        </div>
                        <div class="form-group">
                            <label for="{{ form.min_amount.id_for_label }}">Minimum Amount:</label>
                            <input type="number" class="form-control" name="{{ form.min_amount.name }}"  value="{{ form_data.min_amount }}" maxlength="7" required>
                        </div>
                        <div class="form-group">
                            <label for="{{ form.offer_per.id_for_label }}">Offer Percentage:</label>
                            <input type="number" class="form-control" name="{{ form.offer_per.name }}"  value="{{ form_data.offer_per }}"  required>
                        </div>
                        <div class="form-group">
                            <label for="{{ form.exp_date.id_for_label }}">Expiration Date:</label>
                            <input type="date" class="form-control" name="{{ form.exp_date.name }}"  value="{{ form_data.exp_date }}"  required>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
                <div class="col-md-9">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>

                                    <th>ID</th>
                                    <th>Coupon Name</th>
                                    <th>Coupon CODE</th>
                                    <td>Min Amount</td>
                                    <td>Offer Percentage</td>
                                    <th>Starting date</th>
                                    <th>Expiary date</th>
                                    <th></th>
                                    <!-- <th></th> -->

                                </tr>
                            </thead>
                            <tbody>
                             {% for i in coupon %}
                             <tr>
                                <td>{{i.id}}</td>
                                <td>{{i.coupon_name}}</td>
                                <td>{{i.code}}</td>
                                <td>{{i.min_amount}}</td>
                                <td>{{i.offer_per}}%</td>
                                <td>{{i.starting_date}}</td>
                                <td>{{i.exp_date}}</td>
                                <td><a class="btn-small btn-warning" href="{% url 'edit_coupon' i.id %}" style="padding: 4px 7px;">edit</a></td>
                                <!-- <td><a href="{% url 'delete_coupon' i.id %}">delete</a></td> -->
                             </tr>
                             {% endfor %}
                  
                    </tbody>
                    </table>
                </div> <!-- card-body end// -->
            </div> <!-- .col// -->
        </div> <!-- .row // -->
    </div> <!-- card body .// -->
    </div> <!-- card .// -->
</section> <!-- content-main end// -->
<footer class="main-footer font-xs">
    <div class="row pb-30 pt-15">
        <div class="col-sm-6">
            <script>
                document.write(new Date().getFullYear())
            </script> Â©, Evara - HTML Ecommerce Template .
        </div>
        <div class="col-sm-6">
            <div class="text-sm-end">
                All rights reserved
            </div>
        </div>
    </div>
</footer>
</main>

<script>
    // jQuery script to display form errors on the client side
    $(document).ready(function() {
        // Show form errors if there are any
        if ($("#formErrors").text().trim() !== "") {
            $("#formErrors").show();
        }

        // Show form errors when the form is submitted
        $("#couponForm").submit(function(event) {
            if ($("#formErrors").text().trim() !== "") {
                $("#formErrors").show();
                event.preventDefault(); // Prevent form submission if there are errors
            }
        });
    });
</script>
<script src="{% static 'assets/js/vendors/jquery-3.6.0.min.js' %}"></script>
<script src="{% static 'assets/js/vendors/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'assets/js/vendors/select2.min.js' %}"></script>
<script src="{% static 'assets/js/vendors/perfect-scrollbar.js' %}"></script>
<script src="{% static 'assets/js/vendors/jquery.fullscreen.min.js' %}"></script>
<script src="{% static 'assets/js/vendors/chart.js' %}"></script>
<!-- Main Scr{% static 'ipt -->
<script src="{% static 'assets/js/main.js" type="text/javascript' %}"></script>
<script src="{% static 'assets/js/custom-chart.js" type="text/javascript' %}"></script>
</body>


<!-- Mirrored from wp.alithemes.com/html/evara/evara-backend/page-categories.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 01 Aug 2021 15:33:21 GMT -->

</html>
{% endblock sidebar %}